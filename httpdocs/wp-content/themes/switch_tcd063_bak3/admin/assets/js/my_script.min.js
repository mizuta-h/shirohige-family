(function(e){e(".c-color-picker").wpColorPicker();e(".cf-color-picker").wpColorPicker();e(".sortable").sortable({handle:".theme_option_subbox_headline",placeholder:"sortable-placeholder",helper:"clone",forceHelperSize:true,forcePlaceholderSize:true});var c=document.getElementById("template_meta_box");if(c){c.addEventListener("click",function(f){if(f.target.classList.contains("theme_option_subbox_headline")){f.target.parentNode.classList.toggle("active")}})}e(".repeater-wrapper").each(function(){var f=e(this).find(".repeater-item").last().index();e(this).find(".button-add-row").click(function(h){h.preventDefault();var i=e(this).attr("data-clone");var g=e(this).closest(".repeater-wrapper");if(i&&g.length){f++;g.find(".repeater").append(i.replace(/addindex/g,f))}e(".cf-color-picker").wpColorPicker()})}).on("click",".button-delete-row",function(g){g.preventDefault();var f=true;var h=e(this).closest(".repeater-wrapper").attr("data-delete-confirm");if(h.length){f=confirm(h)}if(f){e(this).closest(".repeater-item").remove()}});if(document.getElementById("my_theme_option")){e("#my_theme_option").cookieTab({tabMenuElm:"#theme_tab",tabPanelElm:"#tab-panel"});var b=document.getElementsByClassName("theme_option_field");for(var d=0,a=b.length;d<a;d++){b[d].addEventListener("click",function(i){if(!i.target){return}if(i.target.classList.contains("theme_option_subbox_headline")){i.target.parentNode.classList.toggle("active")}else{if("INPUT"===i.target.nodeName&&"radio"===i.target.type){var f=i.target.name.match(/dp_options\[(\w+)\]/)[1];var g=i.target.value;var h=document.querySelectorAll('[id^="'+f+'"]');if("contents_builder"!==f&&h.length){h.forEach(function(j){j.style.display="none"});document.getElementById(f+"_"+g).style.display="block"}}}})}e(".theme_option_field").on("change keyup",".change_subbox_headline",function(f){e(this).closest(".sub_box").find(".theme_option_subbox_headline").text(e(this).val())});e(".repeater-wrapper").on("change",".footer-bar-type select",function(j){var f=e(this).parents(".sub_box");var i=f.find(".footer-bar-target");var g=f.find(".footer-bar-url");var h=f.find(".footer-bar-number");switch(j.target.value){case"type1":i.show();g.show();h.hide();break;case"type2":i.hide();g.hide();h.hide();break;case"type3":i.hide();g.hide();h.show();break}});e("#tab-panel").on("click",".ajax_button",function(){var f=e(".button-ml");e("#saving_data").show();tinyMCE.triggerSave();e("#myOptionsForm").ajaxSubmit({beforeSend:function(){f.attr("disabled",true)},complete:function(){f.attr("disabled",false)},success:function(){e("#saving_data").hide();e("#saved_data").html('<div id="saveMessage" class="successModal"></div>');e("#saveMessage").append("<p>"+error_messages.success+"</p>").show()},error:function(){e("#saving_data").hide();alert(error_messages.error)},timeout:10000});setTimeout(function(){e("#saveMessage").hide()},3000);return false})}e('[name="page_tcd_template_type"]').click(function(){var f=e(this).parent();if(!f.hasClass("active")){f.parents("ul").find(".active").removeClass("active");f.addClass("active");e('[id^="page_tcd_template_type_type"]').hide();e('[id="page_tcd_template_type_'+e(this).val()+'"]').show()}});e('[name="interviewee_media_type"]').click(function(){$type2=e("#interviewee_media_type_type2");$type3=e("#interviewee_media_type_type3");switch(e('[name="interviewee_media_type"]:checked').val()){case"type1":$type2.hide();$type3.hide();break;case"type2":$type2.show();$type3.hide();break;case"type3":$type2.hide();$type3.show()}});e('[name="interviewee_media_type"]:checked').click()})(jQuery);